功能测试
===========

网关管理
-----------

设备管理
+++++++++

增加设备
    #. 空白网关新增设备
    #. 连续增加36个设备(能力上限为32个)
    #. 增加已存在SN

删除设备
    #. 删除单个设备
    #. 连续删除全部设备
    #. 删除ID不存在的设备

修改设备(暂无)
    ...

查询设备信息
    #. 查询设备列表
    #. 查询指定SN设备信息
    #. 查询不存在SN设备信息

设备升级
    #. 网关本地升级
    #. 断路器本地升级
    #. 网关、断路器远程升级(暂无)

分合闸
    #. 对已存在SN/ID设备-分闸
    #. 对已存在SN/ID设备-固定间隔全部分闸
    #. 对不存在设备-分闸

    #. 对已存在SN/ID设备-合闸
    #. 对已存在SN/ID设备-固定间隔全部合闸
    #. 对不存在设备-合闸

读取数据
    #. 固定间隔读取单台设备遥测数据(可自动变化的数据-e.g.: 电压、电流、计量 ...)         
    #. 固定间隔读取单台设备属性数据(固定不变/可配置的数据-e.g.: 阈值、开关状态 ...)
        #. 用 modbus-tcp协议读取全部子设备属性.
            * 目标网关下安装16台断路器并配对。
            * 网关通过有线网络连接路由器，设置有效静态IP地址 
            * 上位机通过有线网络访问网关，发起modbus-tcp请求, 相邻两次请求之间不设置时间间隔。
        #. 用 modbus-tcp协议读取全部子设备属性.
            * 目标网关下安装16台断路器并配对。
            * 网关通过有线网络连接路由器，设置有效静态IP地址 
            * 上位机通过有线网络访问网关，发起modbus-tcp请求, 相邻两次请求之间不设置时间间隔。
            * 上位机周期性调用网关进线分合, 模拟网关重复同断电。
    #. 固定间隔读取满载设备的遥测数据
    #. 固定间隔读取满载设备的属性数据

写入数据
    * 写入单台设备的属性数据(e.g. 阈值、开关配置)后，读取验证
    * 周期写入满载设备的属性数据(e.g. 阈值、开关配置)后，读取验证


网络
+++++++

(单)有线网络通信

    *出厂情况，有线网口连接网线后将获取动态IP。3s超时后将开启静态IP，设置ip地址为 192.168.30.1*

    * 动态IP: 动态IP方式联网时，网关的ip地址由路由器动态分配，即当连接路由器成功后，网关才能得到IP。
        #. 连接有线网络前，网关页面中无动态IP显示。
        #. 连接有线网络后，网关页面中能够显示有效的IP，且ping此网关地址能够成功。

    * 静态IP: 静态IP联网，需要对网关的有线网口设置静态IP,且IP段与路由器/交换机保持一致。
        #. 连接AP前，网关页面中无动态IP显示。
        #. 连接AP后，网关页面中能够显示有效的IP，且ping此网关地址能够成功。

(单)无线网络通信
    * wifi-ap
    * wifi-sta

有线网与无限网同时开启
    ...